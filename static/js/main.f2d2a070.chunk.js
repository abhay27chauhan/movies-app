(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{31:function(e,t,n){},33:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(24),c=n.n(r),s=(n(31),n(11)),i=n(12),o=n(15),l=n.n(o),b=n(19),j=n(17),u=n(4),h=n(5),d=n(7),m=n(6),p=(n(33),n(2)),v=n(0),O=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{className:"row ms-1",children:Object(v.jsx)("nav",{"aria-label":"...",children:Object(v.jsx)("ul",{className:"pagination",children:this.props.pageNumberArr.map((function(t){var n=t===e.props.pageNumber?"page-item active":"page-item";return Object(v.jsx)("li",{className:n,"aria-current":"page",onClick:function(){return e.props.handlePageChange(t)},children:Object(v.jsx)("span",{className:"page-link",children:t})},t)}))})})})}}]),n}(a.Component),f=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"row my-3 container",children:[Object(v.jsx)("div",{className:"col-6",children:Object(v.jsx)("input",{type:"search",className:"form-control",placeholder:"Search movies","aria-label":"search",value:this.props.currSearchText,onChange:this.props.handleChange})}),Object(v.jsx)("div",{className:"col-3",children:Object(v.jsx)("input",{type:"number",className:"form-control",placeholder:"Limit","aria-label":"limit",value:this.props.limit,onChange:this.props.handleLimit})})]})}}]),n}(a.Component),x=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{className:"row container",children:Object(v.jsxs)("table",{className:"table",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"Title"}),Object(v.jsx)("th",{scope:"col",children:"Genre"}),Object(v.jsxs)("th",{scope:"col",children:[Object(v.jsx)("i",{className:"fas fa-sort-up",onClick:this.props.sortByStocks}),"Stock",Object(v.jsx)("i",{className:"fas fa-sort-down",onClick:this.props.sortByStocks})]}),Object(v.jsxs)("th",{scope:"col",onClick:this.sortByRatings,children:[Object(v.jsx)("i",{className:"fas fa-sort-up",onClick:this.props.sortByRatings}),"Rate",Object(v.jsx)("i",{className:"fas fa-sort-down",onClick:this.props.sortByRatings})]}),Object(v.jsx)("th",{})]})}),Object(v.jsx)("tbody",{children:this.props.filteredMovies.map((function(t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"col-4",children:t.title}),Object(v.jsx)("td",{children:t.genre.name}),Object(v.jsx)("td",{children:t.numberInStock}),Object(v.jsx)("td",{className:"col-2",children:t.dailyRentalRate}),Object(v.jsx)("td",{children:Object(v.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.props.deleteMovie(t._id)},children:"Delete"})})]},t._id)}))})]})})}}]),n}(a.Component),g=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={genres:[{id:123456,name:"All Genres"}]},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-backend101.herokuapp.com/genres");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({genres:[].concat(Object(j.a)(this.state.genres),Object(j.a)(n.genres))});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{children:Object(v.jsx)("ul",{className:"list-group",children:this.state.genres.map((function(t){var n=t.name===e.props.cGenre?"list-group-item active":"list-group-item";return Object(v.jsx)("li",{className:n,onClick:function(){return e.props.handleGenreChange(t.name)},children:t.name},t.id)}))})})}}]),n}(a.Component),N=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={currSearchText:"",pageNumber:1,limit:4,cGenre:"All Genres"},e.handleChange=function(t){var n=t.target.value;e.setState({currSearchText:n,pageNumber:1})},e.sortByStocks=function(t){var n=t.target.className,a=[],r=e.props.movies;a="fas fa-sort-up"===n?r.sort((function(e,t){return e.numberInStock-t.numberInStock})):r.sort((function(e,t){return t.numberInStock-e.numberInStock})),e.props.setMovies(a)},e.sortByRatings=function(t){var n=t.target.className,a=[],r=e.props.movies;a="fas fa-sort-up"===n?r.sort((function(e,t){return e.dailyRentalRate-t.dailyRentalRate})):r.sort((function(e,t){return t.dailyRentalRate-e.dailyRentalRate})),e.props.setMovies(a)},e.handlePageChange=function(t){e.setState({pageNumber:t})},e.handleLimit=function(t){var n=Number(t.target.value);n<1||e.setState({limit:n})},e.handleGenreChange=function(t){e.setState({cGenre:t,pageNumber:1})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.genres,n=e.currSearchText,a=e.pageNumber,r=e.limit,c=e.cGenre,i=this.props,o=i.movies,l=i.deleteMovie,b=o.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}));"All Genres"!==c&&(b=b.filter((function(e){return e.genre.name===c})));for(var j=Math.ceil(b.length/r),u=[],h=0;h<j;h++)u.push(h+1);var d=(a-1)*r,m=d+r;return b=b.slice(d,m),Object(v.jsxs)("div",{className:"row m-0 px-2",children:[Object(v.jsx)("div",{className:"col-3 pt-4",children:Object(v.jsx)(g,{genres:t,cGenre:c,handleGenreChange:this.handleGenreChange})}),Object(v.jsxs)("div",{className:"col-9",children:[Object(v.jsx)("button",{className:"btn btn-primary btn-lg my-3 ms-4",children:Object(v.jsx)(s.b,{to:"/new",className:"text-light",children:" Add New Movie "})}),Object(v.jsx)(f,{currSearchText:n,handleChange:this.handleChange,limit:r,handleLimit:this.handleLimit}),Object(v.jsx)(x,{filteredMovies:b,deleteMovie:l,sortByRatings:this.sortByRatings,sortByStocks:this.sortByStocks}),Object(v.jsx)(O,{pageNumber:a,pageNumberArr:u,handlePageChange:this.handlePageChange})]})]})}}]),n}(a.Component),y=n(18),k=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:{title:"",genre:"",numberInStock:0,rate:0}},e.handleChange=function(t){var n=t.currentTarget.id,a=t.target.value,r=e.state.data,c=Object(i.a)(Object(i.a)({},r),{},Object(y.a)({},n,a));e.setState({data:c})},e.handleSubmit=function(t){t.preventDefault(),e.props.addMovie(e.state.data),e.setState({data:{title:"",genre:"",numberInStock:0,rate:0}})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.genre,a=e.numberInStock,r=e.rate;return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("p",{className:"lead mt-3",children:"Fill out this form to a new movie"}),Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsxs)("div",{className:"mb-3",children:[Object(v.jsx)("label",{htmlFor:"title",className:"col-form-label",children:"Title:"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"title",value:t,onChange:this.handleChange})]}),Object(v.jsxs)("div",{className:"mb-3",children:[Object(v.jsx)("label",{htmlFor:"genre",className:"col-form-label",children:"Genre:"}),Object(v.jsxs)("select",{className:"form-select",id:"genre",value:n,onChange:this.handleChange,children:[Object(v.jsx)("option",{defaultValue:!0,children:"Select Genre"}),Object(v.jsx)("option",{value:"Action",children:"Action"}),Object(v.jsx)("option",{value:"Comedy",children:"Comedy"}),Object(v.jsx)("option",{value:"Thriller",children:"Thriller"})]})]}),Object(v.jsxs)("div",{className:"mb-3",children:[Object(v.jsx)("label",{htmlFor:"numberInStock",className:"col-form-label",children:"Number in Stock:"}),Object(v.jsx)("input",{type:"number",className:"form-control",id:"numberInStock",value:a,onChange:this.handleChange})]}),Object(v.jsxs)("div",{className:"mb-3",children:[Object(v.jsx)("label",{htmlFor:"rate",className:"col-form-label",children:"Rate:"}),Object(v.jsx)("input",{type:"number",className:"form-control",id:"rate",value:r,onChange:this.handleChange})]}),Object(v.jsx)("button",{className:"btn btn-primary btn-lg mb-3",children:"Add New Movie"})]})]})}}]),n}(a.Component),C=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(v.jsx)("nav",{className:"navbar navbar-expand-lg bg-dark navbar-dark py-3",children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(s.b,{to:"/",className:"navbar-brand",children:"Movie Rentals"}),Object(v.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navmenu",children:Object(v.jsx)("span",{className:"navbar-toggler-icon"})}),Object(v.jsx)("div",{className:"collapse navbar-collapse",id:"navmenu",children:Object(v.jsx)("ul",{className:"navbar-nav ms-auto",children:Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(s.b,{to:"/login",className:"nav-link",children:"Login"})})})})]})})}}]),n}(a.Component),S=n(26),w=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e.setMovies=function(t){e.setState({movies:t})},e.addMovie=function(t){for(var n=t.title,a=t.genre,r=t.numberInStock,c=t.rate,s=[{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"}],i=0;i<s.length;i++)s[i].name===a&&(a=s[i]);var o={_id:Date.now(),title:n,genre:a,dailyRentalRate:c,numberInStock:r};e.setState({movies:[].concat(Object(j.a)(e.state.movies),[o])})},e.deleteMovie=function(t){var n=e.state.movies.filter((function(e){return e._id!==t}));e.setState({movies:n})},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-backend101.herokuapp.com/movies");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({movies:n.movies});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)(C,{}),Object(v.jsxs)(p.Switch,{children:[Object(v.jsx)(p.Route,{path:"/new",render:function(t){return Object(v.jsx)(k,Object(i.a)(Object(i.a)({},t),{},{addMovie:e.addMovie}))}}),Object(v.jsx)(p.Route,{exact:!0,path:"/movies",render:function(t){return Object(v.jsx)(N,Object(i.a)(Object(i.a)({},t),{},{movies:e.state.movies,deleteMovie:e.deleteMovie,setMovies:e.setMovies}))}}),Object(v.jsx)(p.Route,{exact:!0,path:"/movies-app",render:function(e){return Object(v.jsx)(S.Redirect,{to:"/movies"})}})]})]})}}]),n}(a.Component);c.a.render(Object(v.jsx)(s.a,{children:Object(v.jsx)(w,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f2d2a070.chunk.js.map